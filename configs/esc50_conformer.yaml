# ============================================================
# PETL-AST Project â€” ESC-50 Conformer Adapter Configuration
# ============================================================
# All hyperparameters in one place. Scripts read from this file.
# Do NOT hardcode these values in Python code.

# --- Model ---
model_checkpoint: "MIT/ast-finetuned-audioset-10-10-0.4593"
hidden_dim: 768
num_layers: 12

# --- Conformer Adapter ---
adapter_type: "Pfeiffer"        # Pfeiffer = parallel to FFN only
adapter_placement: "parallel"   # parallel (not sequential)
apply_residual: false
reduction_rate: 96              # bottleneck dim r = 768 / 96 = 8
kernel_size: 8                  # depthwise conv kernel size
adapter_dropout: 0.0

# --- Dataset: ESC-50 ---
dataset_name: "ESC-50"
num_classes: 50
max_len_ast: 500                # max spectrogram length (num patches)
num_folds: 5                    # 5-fold cross-validation
sample_rate: 16000              # target sample rate after resampling

# --- SpecAugment (training only) ---
apply_spec_aug: true
freq_mask_param: 24
time_mask_param: 80

# --- Training ---
batch_size: 32
epochs: 50
learning_rate: 0.005
weight_decay: 0.1
optimizer_betas: [0.9, 0.98]
optimizer_eps: 1.0e-6
seed: 10

# --- Classification ---
final_output: "ALL"             # mean pooling over all tokens (not CLS-only)

# --- Paths ---
data_dir: "data"
output_dir: "outputs"
